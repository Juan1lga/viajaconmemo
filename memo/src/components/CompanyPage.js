import React, { useState } from "react";import company from "../content/company.json";import companyPhotos from "../content/companyPhotos.json";import Lightbox from "./Lightbox";import "./CompanyPage.css";import CompanyStats from "./CompanyStats";const CompanyPage = ({ embedded = false }) => { const [isOpen, setIsOpen] = useState(false); const [selectedIndex, setSelectedIndex] = useState(0); const staticItems = Array.isArray(companyPhotos) ? companyPhotos.map((name) => ({ src: `${process.env.PUBLIC_URL}/EMPRESA/${name}` })) : []; const galleryItems = staticItems.length ? staticItems : (Array.isArray(company.gallery) && company.gallery.length ? company.gallery : (Array.isArray(company.photos) ? company.photos : [])); const openAt = (idx) => { setSelectedIndex(idx); setIsOpen(true); }; const closeLb = () => setIsOpen(false); return (<div className={`company-page${embedded ? " embedded" : ""}`}> <section className="company-hero"> <h1 className="company-title heading-backdrop">Nuestra Empresa</h1> <p className="company-description">{company.description}</p> </section> <CompanyStats stats={company.stats} /> <section className="company-content"> <div className="content-block green-panel"> <h2>Quiénes somos</h2> <p>{company.about}</p> </div> <div className="content-grid"> <div className="content-block green-panel"> <h3>Qué hacemos</h3> <ul> {(company.whatWeDo || []).map((item, idx) => (<li key={idx}>{item}</li>))} </ul> </div> <div className="content-block"> <h3>Valores</h3> <ul> {(company.values || []).map((item, idx) => (<li key={idx}>{item}</li>))} </ul> </div> <div className="content-block"> <h3>Servicios</h3> <ul> {(company.services || []).map((svc, idx) => (<li key={idx}>{svc}</li>))} </ul> </div> </div> </section> <section className="company-gallery"> <h2>Fotos de la empresa</h2> {galleryItems && galleryItems.length ? (<div className="gallery-grid"> {galleryItems.map((photo, idx) => ( <div key={idx} className="gallery-item" onClick={() => openAt(idx)} role="button" tabIndex={0} onKeyDown={(e) => { if (e.key === "Enter") openAt(idx); }}> <img src={photo.src} alt={"Foto de la empresa"} /> </div> ))} </div>) : (<p className="muted">Aún no hay fotos disponibles.</p>)} {isOpen && <Lightbox images={galleryItems} startIndex={selectedIndex} onClose={closeLb} />} </section> <section className="company-location"> <h2>Ubicación</h2> <p className="company-address"><strong>Dirección:</strong> {(company.location && company.location.address) || company.address}</p> <div className="map-embed"> <iframe title="Mapa de ubicación" src={(company.location && company.location.mapEmbedUrl) || ""} width="100%" height="420" frameBorder="0" style={{ border: 0 }} allowFullScreen="" loading="lazy" referrerPolicy="no-referrer-when-downgrade"></iframe> </div> </section> <section className="company-contact"> <h2>Contacto</h2> <ul className="contact-list"> <li className="green-panel"><strong>Teléfono:</strong> +{company.phone}</li> <li className="green-panel"><strong>Email:</strong> {company.email}</li> </ul> </section> </div>);};export default CompanyPage;